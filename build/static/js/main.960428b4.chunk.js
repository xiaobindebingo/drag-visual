(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){e.exports={container:"src_container__12MZc",content:"src_content__110zU",editor:"src_editor__1vpBc"}},159:function(e,t,n){e.exports={selected:"ResizeWrapper_selected__3URnW",locked:"ResizeWrapper_locked__1V3Aj"}},285:function(e,t,n){e.exports={group:"Group_group__KDQxi"}},288:function(e,t,n){e.exports={editor:"Editor_editor__vzXVZ"}},289:function(e,t,n){e.exports={circle:"Circle_circle__18Nbv"}},290:function(e,t,n){e.exports={attributePanel:"AttributePanel_attributePanel__3OHup"}},293:function(e,t,n){e.exports=n(687)},58:function(e,t,n){e.exports={markline:"MarkLine_markline__bJ0QZ",line:"MarkLine_line__3GMwM",hor:"MarkLine_hor__32M3f",ver:"MarkLine_ver__3WRU8",hide:"MarkLine_hide__1ShMr"}},685:function(e,t,n){},687:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(15),c=n.n(a),i=n(281),l=n.n(i),s=n(96),u=n(17),d=n(10),p=n(282),f=n(283),h=new(function(){function e(t,n,o){Object(p.a)(this,e),this.list=void 0,this.maxLength=void 0,this.curIndex=void 0,this.list=t,this.curIndex=n,this.maxLength=o||20}return Object(f.a)(e,[{key:"addRecord",value:function(e){this.list.push(e),this.list.length>this.maxLength&&this.list.shift(),this.curIndex=this.list.length-1}},{key:"getPrevRecord",value:function(){return this.curIndex=this.curIndex>0?this.curIndex-1:this.curIndex,console.log(this.curIndex,this.list),this.list[this.curIndex]}},{key:"getNextRecord",value:function(){return this.curIndex+1>=this.list.length-1?this.curIndex=this.list.length-1:this.curIndex+=1,this.list[this.curIndex]}}]),e}())([{componentMap:{},previewVisible:!1,canvasWidth:1200,canvasHeight:750,scale:100,selectComponentId:"",containIds:[],areaPos:{startPos:{left:0,top:0},endPos:{left:0,top:0}}}],0,100);var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.list[0],t=arguments.length>1?arguments[1]:void 0;if("save"===t.type)return Object(d.a)(Object(d.a)({},e),t.payload);if("toggleLock"===t.type){var n=t.payload,o=n.id,r=n.locked;return console.log(o,r,"locke"),Object(d.a)(Object(d.a)({},e),{},{componentMap:Object(d.a)(Object(d.a)({},e.componentMap),{},Object(u.a)({},o,Object(d.a)(Object(d.a)({},e.componentMap[o]),{},{isLocked:r})))})}if("updateCurContainerStyle"===t.type){var a=t.payload,c=e.selectComponentId;return Object(d.a)(Object(d.a)({},e),{},{componentMap:Object(d.a)(Object(d.a)({},e.componentMap),{},Object(u.a)({},c,Object(d.a)(Object(d.a)({},e.componentMap[c]),{},{containerProps:Object(d.a)(Object(d.a)({},e.componentMap[c].containerProps),{},{style:Object(d.a)(Object(d.a)({},e.componentMap[c].containerProps.style),a)})})))})}return"saveRecords"===t.type?(h.addRecord(e),e):"cancleRecords"===t.type?h.getPrevRecord():"redo"===t.type?h.getNextRecord():e},v=Object(s.b)(m,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),b=n(19),y=n(44),g=n(43),O=n.n(g),E=n(23),j=n(6),M=n.n(j),P=(n(685),function(e){var t=Object(o.useState)(!0),n=Object(y.a)(t,2),a=n[0],c=n[1],i=e.className,l=e.alertType,s=e.children,d=e.title,p=M()("alert",i,Object(u.a)({},"alert-".concat(l),l));return a?r.a.createElement("div",{className:p},r.a.createElement("div",{className:"alert-message"},d," ",e.closeble&&r.a.createElement("span",{className:"alert-close",onClick:function(){return c(!1)}},"\u5173\u95ed")),r.a.createElement("div",{className:"alert-content"},s)):null});P.defaultProps={alertType:"default"};var _=P,w=n(285),k=n.n(w);var x=function(e){return r.a.createElement("div",{className:k.a.group},e.children)},C=function(){var e={};return{register:function(t,n){e[t]=n},getHash:function(t){return t?e[t]:e}}}(),I="group";_.config={icon:"https://img.alicdn.com/tfs/TB1i4enT4v1gK0jSZFFXXb0sXXa-32-32.svg",text:"\u5f39\u7a97"},_.initialProps={width:200,height:100,type:"danger",title:"dangerTitle",children:"\u54c8\u54c8"},C.register("alert",_),C.register(I,x);var N=C.getHash();function L(e,t){return"[object Object]"===Object.prototype.toString.call(e)?{type:"save",payload:e}:Array.isArray(e)?{type:"save",payload:e.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),t)}),{})}:{type:"save",payload:Object(u.a)({},e,t)}}function R(e){return{x:e.clientX,y:e.clientY}}function S(e){return{left:e.nativeEvent.offsetX,top:e.nativeEvent.offsetY}}function T(e){var t=N[e];return t||{}}var D=function(e){return"".concat(100*e,"%")},A=function(e,t){return e*(t.match(/\d+/g)[0]/100)},z=function(e,t){if(!e)return{top:0,left:0,width:0,height:0};var n=e.top,o=e.left,r=e.width,a=e.height;return{left:D((o-t.left)/t.width),top:D((n-t.top)/t.height),width:D(r/t.width),height:D(a/t.height)}},W=function(e,t){var n=e.top,o=e.left,r=e.width,a=e.height;return{left:Math.ceil(A(t.width,o)+t.left),top:Math.ceil(A(t.height,n)+t.top),width:Math.ceil(A(t.width,r)),height:Math.ceil(A(t.height,a))}},X=function(e){var t=Object.keys(e),n=O()(e);return t.forEach((function(e){var t=n[e].parentId;t&&(n[t].children?n[t].children[e]=n[e]:n[t].children=Object(u.a)({},e,n[e]),delete n[e])})),n},B=n(688),H=n(98),G=n.n(H),U=function(e){return{type:"cancleRecords",payload:e}},F=function(e){return{type:"updateCurContainerStyle",payload:e}};var V=Object(b.b)((function(e){return{model:e}}),(function(e){return{changeWidth:function(t){return e(L("canvasWidth",t))},changeHeight:function(t){return e(L("canvasHeight",t))},changeScale:function(t){return e(L("scale",t))},updateState:function(t){return e(L(t))},cancelRecords:function(t){return e(U(t))},redoRecords:function(){return e({type:"redo"})},addRecords:function(){return e({type:"saveRecords"})},toggleLock:function(t){return e({type:"toggleLock",payload:t})}}}))((function(e){var t=e.model,n=e.changeWidth,a=e.changeHeight,c=e.changeScale,i=e.updateState,l=e.addRecords,s=e.cancelRecords,p=e.redoRecords,f=e.toggleLock,m=t.containIds,v=t.canvasWidth,b=t.canvasHeight,g=t.scale,j=t.areaPos,M=t.componentMap,P=t.selectComponentId,_=j.startPos,w=j.endPos,k={left:Math.min(_.left,w.left),top:Math.min(_.top,w.top),width:Math.abs(w.left-_.left),height:Math.abs(w.top-_.top)},x=(M[P]||{}).isLocked,C=Object(o.useState)(1e3),N=Object(y.a)(C,2),L=N[0],R=N[1];return r.a.createElement("div",{className:G.a.header},r.a.createElement("div",{style:{display:"flex",marginRight:50}},r.a.createElement(E.Range,{style:{width:40},min:1,max:10,hasTip:!0,value:L,onChange:function(e){return R(Number(e))}}),r.a.createElement(E.Button,{onClick:function(){!function e(t,n){var o=t.shift();setTimeout((function(){i(o),t.length>0&&e(t,1e3/n)}),1e3/n)}(O()(h.list),L)}},"\u56de\u653e")),"\u5bbd\uff1a",r.a.createElement(E.NumberPicker,{onChange:function(e){return n(e)},className:G.a.numberPicker,value:v}),"\u9ad8\uff1a",r.a.createElement(E.NumberPicker,{onChange:function(e){return a(e)},className:G.a.numberPicker,value:b}),"\u7f29\u653e\uff1a",r.a.createElement(E.NumberPicker,{max:500,min:0,onChange:function(e){return c(e)},value:g}),"%",r.a.createElement("div",{style:{marginLeft:16}},r.a.createElement(E.Button,{type:"secondary",disabled:!P,onClick:function(){f({id:P,locked:!x})}},x?"\u89e3\u9501":"\u9501\u5b9a"),r.a.createElement(E.Button,{type:"primary",disabled:m.length<=1,onClick:function(){l();var e=Object(B.a)(),t=function(e){return Object.keys(M).reduce((function(t,n){var o;return m.includes(n)?Object(d.a)(Object(d.a)({},t),{},Object(u.a)({},n,Object(d.a)(Object(d.a)({},M[n]),{},{containerProps:Object(d.a)(Object(d.a)({},M[n].containerProps),{},{style:z(null===(o=M[n].containerProps)||void 0===o?void 0:o.style,k)}),parentId:e}))):Object(d.a)(Object(d.a)({},t),{},Object(u.a)({},n,M[n]))}),{})}(e),n={componentMap:Object(d.a)(Object(d.a)({},t),{},Object(u.a)({},e,{type:"group",containerProps:{style:Object(d.a)({},k)}})),selectComponentId:e,containIds:[],areaPos:{startPos:{left:0,top:0},endPos:{left:0,top:0}}};i(n),l()}},"\u7ec4\u5408"),r.a.createElement(E.Button,{type:"secondary",disabled:!M[P]||"group"!==M[P].type,onClick:function(){var e;if(l(),M[P].type===I){var t=(e=P,Object.keys(M).reduce((function(t,n){var o,r=M[n];return r.parentId===e?Object(d.a)(Object(d.a)({},t),{},Object(u.a)({},n,Object(d.a)(Object(d.a)({},r),{},{parentId:null,containerProps:Object(d.a)(Object(d.a)({},M[n].containerProps),{},{style:W(null===(o=M[n].containerProps)||void 0===o?void 0:o.style,M[e].containerProps.style)})}))):e!==n?Object(d.a)(Object(d.a)({},t),{},Object(u.a)({},n,r)):Object(d.a)({},t)}),{})),n={componentMap:Object(d.a)({},t),selectComponentId:"",containIds:[],areaPos:j};i(n)}}},"\u62c6\u5206"),r.a.createElement(E.Button,{onClick:s},"\u64a4\u9500"),r.a.createElement(E.Button,{onClick:p},"\u91cd\u505a"),r.a.createElement(E.Button,{onClick:function(){return i(Object(d.a)(Object(d.a)({},t),{},{previewVisible:!0}))}},"\u9884\u89c8"),r.a.createElement(E.Button,{onClick:function(){JSON.stringify(M)}},"\u53d1\u5e03")))})),Y=n(99),J=n.n(Y);var K=Object(b.b)((function(e){return e}),(function(){return{}}))((function(e){return r.a.createElement("div",{className:J.a.componentList},Object.keys(N).map((function(e){var t,n,o=N[e];return e===I?null:r.a.createElement("div",{className:J.a.cell,key:e,draggable:!0,onDragStart:function(t){return t.dataTransfer.setData("type",e)}},r.a.createElement("img",{src:null===o||void 0===o||null===(t=o.config)||void 0===t?void 0:t.icon}),r.a.createElement("br",null),r.a.createElement("div",{className:J.a.text},null===o||void 0===o||null===(n=o.config)||void 0===n?void 0:n.text))})))})),Z=n(286),q=n(287),Q=n.n(q);function $(e){return e.show?r.a.createElement("svg",{className:"grid",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("defs",null,r.a.createElement("pattern",{id:"smallGrid",width:"7.236328125",height:"7.236328125",patternUnits:"userSpaceOnUse"},r.a.createElement("path",{d:"M 7.236328125 0 L 0 0 0 7.236328125",fill:"none",stroke:"rgba(207, 207, 207, 1)",strokeWidth:"1"})),r.a.createElement("pattern",{id:"grid",width:"36.181640625",height:"36.181640625",patternUnits:"userSpaceOnUse"},r.a.createElement("rect",{width:"36.181640625",height:"36.181640625",fill:"url(#smallGrid)"}),r.a.createElement("path",{d:"M 36.181640625 0 L 0 0 0 36.181640625",fill:"none",stroke:"rgba(186, 186, 186, 0.5)",strokeWidth:"1"}))),r.a.createElement("rect",{width:"100%",height:"100%",fill:"url(#grid)"})):null}var ee=n(288),te=n.n(ee),ne=n(289),oe=n.n(ne);var re=function(e){var t=e.position,n=e.style,o=e.addRecord;return e.isLocked,r.a.createElement("div",{onMouseDown:function(n){n.preventDefault(),n.stopPropagation();var r=R(n),a=r.x,c=r.y,i=function(n){var o=R(n),r=o.x,i=o.y,l=r-a,s=i-c;e.updateComponentItemByPos(t,{distanceX:l,distanceY:s})};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(){o(),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))},style:n,className:oe.a.circle})},ae=[{position:"lt",style:{cursor:"nwse-resize",left:-4,top:-4}},{position:"t",style:{cursor:"ns-resize",left:"50%",marginLeft:-4,top:-4}},{position:"rt",style:{right:-4,top:-4,cursor:"nesw-resize"}},{position:"l",style:{cursor:"w-resize",left:-4,top:"50%",marginTop:-4}},{position:"r",style:{right:-4,top:"50%",marginTop:-4,cursor:"e-resize"}},{position:"lb",style:{cursor:"nesw-resize",bottom:-4,left:-4}},{position:"b",style:{cursor:"ns-resize",left:"50%",marginLeft:-4,bottom:-4}},{position:"br",style:{cursor:"nwse-resize",bottom:-4,right:-4}}],ce=n(159),ie=n.n(ce);var le=Object(b.b)((function(e){return{model:e}}),(function(e){return{updateCurContainerStyle:function(t){return e(F(t))},updateSelectComponentAndOrderMap:function(t,n){return e(L({selectComponentId:t,componentMap:n}))},addRecord:function(){return e({type:"saveRecords"})}}}))((function(e){var t,n=e.containerProps,a=e.model,c=e.index,i=e.style,l=e.className,s=e.id,p=e.updateCurContainerStyle,f=e.updateSelectComponentAndOrderMap,h=e.addRecord,m=a.componentMap,v=a.selectComponentId,b=Object(o.useRef)({}),y=b.current,g=y.offsetWidth,j=y.offsetHeight,P=y.offsetLeft,_=y.offsetTop,w=s&&s===v,k=m[s].isLocked,x=function(e,t){var n=t.distanceX,o=void 0===n?0:n,r=t.distanceY,a=void 0===r?0:r,c={lt:{width:Math.round(g-o),height:Math.round(j-a),left:Math.round(P+o),top:Math.round(_+a)},rt:{width:Math.round(g+o),height:Math.round(j-a),top:Math.round(_+a)},lb:{width:Math.round(g-o),height:Math.round(j+a),left:Math.round(P+o)},br:{width:Math.round(g+o),height:Math.round(j+a)},t:{height:Math.round(j-a),top:Math.round(_+a)},l:{width:Math.round(g-o),left:Math.round(P+o)},r:{width:Math.round(g+o)},b:{height:Math.round(j+a)}};p(Object(d.a)({},c[e]))};return r.a.createElement("div",{ref:b,key:s,className:M()((t={},Object(u.a)(t,l,l),Object(u.a)(t,ie.a.selected,w),t)),style:Object(d.a)(Object(d.a)({position:"absolute",cursor:"move"},i),{},{zIndex:c},n.style),onMouseDown:function(e){e.preventDefault(),e.stopPropagation();var t=function(e,t){var n=O()(t);return delete n[e],n[e]=t[e],n}(s,m),n=R(e),o=n.x,r=n.y,a=e.currentTarget.offsetLeft,c=e.currentTarget.offsetTop;f(s,t);var i=function(e){if(!k){var t=R(e),n=t.x,i=t.y;p({left:n-o+a,top:i-r+c})}};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(){h(),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))},onDragOver:function(e){return e.preventDefault()}},w&&!k&&ae.map((function(e){return r.a.createElement(re,Object.assign({addRecord:h,updateComponentItemByPos:x,key:e.position},e))})),k&&r.a.createElement("div",{className:ie.a.locked},r.a.createElement(E.Icon,{size:"xs",type:"lock-fill"})),e.children)}));var se=Object(b.b)((function(e){return e}))((function(e){var t=e.id,n=e.index,o=e.item,a=o.type,c=o.componentProps,i=o.containerProps,l=o.parentId,s=e.children,u=T(a);return i?l||s?l||a!==I?l&&a===I&&s&&s.length>0?r.a.createElement("div",{style:Object(d.a)({position:"absolute",cursor:"move"},i.style)},s):l&&!s?r.a.createElement("div",{style:Object(d.a)({position:"absolute",cursor:"move"},i.style)},r.a.createElement(u,c)):void 0:r.a.createElement(le,{index:n,containerProps:i,id:t},r.a.createElement(u,c,r.a.Children.map(s,(function(e){return e})))):r.a.createElement(le,{index:n,containerProps:i,id:t},r.a.createElement(u,c)):null})),ue=n(291),de=n(58),pe=n.n(de),fe=[{type:"xt",show:!1,left:0,top:0},{type:"xc",show:!1,left:0,top:0},{type:"xb",show:!1,left:0,top:0},{type:"yl",show:!1,left:0,top:0},{type:"yc",show:!1,left:0,top:0},{type:"yr",show:!1,left:0,top:0}];var he=Object(b.b)((function(e){return e}),(function(e){return{updateCurContainerStyle:function(t){return e(F(t))}}}))((function(e){var t=Object(o.useState)(fe),n=Object(y.a)(t,2),a=n[0],c=n[1],i=e.componentMap,l=e.selectComponentId,s=e.updateCurContainerStyle,p=function(e,t){return Math.abs(e-t)<=4},f=function(e){var t=e.type,n=e.left,o=e.top,r=e.show,a=void 0===r||r;c((function(e){return e.map((function(e){return e.type===t?Object(d.a)(Object(d.a)({},e),{},{show:a,top:o,left:n}):e}))}))},h=function(){var e=((i[l]||{}||{}).containerProps||{}).style||{},t=e.top,n=e.left,o=e.width,r=e.height;return{curTop:t,curLeft:n,curBottom:t+r,curRight:n+o,curWidth:o,curHeight:r}}(),m=h.curTop,v=h.curLeft,b=h.curBottom,g=h.curRight,O=h.curWidth,E=h.curHeight,j=function(){c(fe)};return Object(ue.a)((function(){Object.keys(i).forEach((function(e){var t=i[e].containerProps;if(e!==l&&!i[e].parentId){var n=t.style,o=n.top,r=n.left,a=n.width,c=n.height,u=r+a,d=o+c,h={left:r+a/2,top:o+c/2},y={left:v+O/2,top:m+m/2};p(y.top,h.top)&&(f({type:"xc",top:h.top,left:0}),s({top:o-(E-c)/2,left:v})),p(y.left,h.left)&&(f({type:"yc",top:0,left:h.left}),s({top:m,left:r-(O-a)/2})),p(y.left,h.left)&&f({type:"yc",left:y.left,top:0}),(p(m,o)||p(b,o))&&(f({type:"xt",top:o,left:0}),p(m,o)&&s({top:o,left:v}),p(b,o)&&s({top:o-E,left:v})),(p(v,r)||p(g,r))&&(f({type:"yl",left:r,top:0}),p(v,r)&&s({left:r,top:m}),p(g,r)&&s({left:r-O,top:m})),(p(g,u)||p(v,u))&&(f({type:"yr",left:u,top:0}),p(g,u)&&s({left:u-O,top:m}),p(v,u)&&s({left:u,top:m})),(p(b,d)||p(m,d))&&(f({type:"xb",left:0,top:d}),p(b,d)&&s({left:v,top:o+c-E}),p(m,d)&&s({left:v,top:c+o}))}}))}),[b,m,v,g,i]),Object(o.useEffect)((function(){return document.addEventListener("mouseup",j),function(){document.removeEventListener("mouseup",j)}}),[]),r.a.createElement("div",{className:pe.a.markline},a.map((function(e){var t,n=e.left,o=e.top,a=e.show,c=e.type;return r.a.createElement("div",{style:{left:n,top:o},key:c,className:M()((t={},Object(u.a)(t,pe.a.hide,!a),Object(u.a)(t,pe.a.hor,c.includes("x")),Object(u.a)(t,pe.a.ver,c.includes("y")),Object(u.a)(t,pe.a.line,!0),t))})})))}));var me=Object(b.b)((function(e){return e}))((function(e){var t=e.areaPos,n=t.startPos,o=t.endPos,a=Math.abs(o.left-n.left),c=Math.abs(o.top-n.top),i=o.left>n.left?n.left:o.left,l=o.top>n.top?n.top:o.top;return a&&c?r.a.createElement("div",{style:{zIndex:999999,position:"absolute",width:a,height:c,left:i,top:l,border:"1px solid #409eff"}}):null}));var ve=Object(b.b)((function(e){return{model:e}}),(function(e){return{updateComponentMap:function(t){return e(L("componentMap",t))},updateSelectComponent:function(t){return e(L("selectComponentId",t))},updateAreaPos:function(t,n){return e(L({areaPos:t,containIds:n}))},updateComponentMapAndSelectId:function(t,n){e(L({componentMap:t,selectComponentId:n}))},addRecords:function(){return e({type:"saveRecords"})},cancelRecords:function(t){return e(U(t))},redoRecords:function(){return e({type:"redo"})}}}))((function(e){var t=Object(o.useState)(!1),n=Object(y.a)(t,2),a=n[0],c=n[1],i=e.model,l=e.updateComponentMap,s=e.updateComponentMapAndSelectId,p=e.updateSelectComponent,f=e.updateAreaPos,h=e.addRecords,m=e.cancelRecords,v=e.redoRecords,b=i.canvasWidth,g=i.canvasHeight,E=i.scale,j=i.componentMap,M=i.selectComponentId,P={startPos:{left:0,top:0},endPos:{left:0,top:0}},_=function e(t,n){var o;n[t].type===I?(o=t,Object.keys(j).filter((function(e){return j[e].parentId===o}))).forEach((function(t){e(t,n)})):delete n[t]},w=X(j);return r.a.createElement("div",{id:"editorWrapper",className:te.a.editor,style:{width:b,height:g,transformOrigin:"0 0",transform:"scale(".concat(E/100,")")}},r.a.createElement(Q.a,{handleKeys:["backspace","cmd+h","cmd+z","cmd+shift+z"],onKeyEvent:function(e){({backspace:function(){var e=O()(j);_(M,e),s(e,null)},"cmd+h":function(){c(!a)},"cmd+z":function(){m()},"cmd+shift+z":function(){v()}})[e]()}}),r.a.createElement("div",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),p(null);var t=function e(t,n){var o;return t.target?o=t.target:t.parentNode&&(o=t.parentNode),o.id!==n?e(o,n):o}(e,"editorWrapper").getBoundingClientRect(),n=t.left,o=t.top,r=S(e),a=P,c=function(e){a={startPos:r,endPos:{left:e.clientX-n,top:e.clientY-o}},f(a,[])};document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function e(t){var n=[];if(Object.keys(j).forEach((function(e){var t=a,o=t.startPos,r=t.endPos,c=Math.min(o.left,r.left),i=Math.min(o.top,r.top),l=Math.abs(r.left-o.left),s=Math.abs(r.top-o.top),u=j[e],d=u.containerProps.style,p=d.left,f=d.top,h=d.width,m=d.height;c<p&&i<f&&l+c>p+h&&s+i>m+f&&!u.isLocked&&n.push(e)})),n.length>1){var o=function(e){var t=Number.MAX_SAFE_INTEGER,n=-Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,r=-Number.MAX_SAFE_INTEGER;return e.forEach((function(e){var a=j[e].containerProps.style,c=a.left,i=a.top,l=a.width,s=a.height;c<t&&(t=c),n<c+l&&(n=c+l),i<o&&(o=i),r<i+s&&(r=i+s)})),{startPos:{left:t,top:o},endPos:{left:n,top:r}}}(n);f(o,n)}else f(P,[]);document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",e)}))},style:{position:"absolute",width:"100%",height:"100%"},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),e.stopPropagation();var t=S(e),n=t.left,o=t.top,r=e.dataTransfer.getData("type");if(r){var a=T(r).initialProps||{},c=(a.top,a.left,a.right,a.bottom,a.width),i=a.height,s=Object(Z.a)(a,["top","left","right","bottom","width","height"]),p={style:{top:o,left:n,width:c,height:i}},f=Object(d.a)(Object(d.a)({},j),{},Object(u.a)({},Object(B.a)(),{type:r,containerProps:p,componentProps:s}));l(f),h()}}},r.a.createElement($,{show:a}),function e(t){return t?Object.keys(t).map((function(n,o){var a=t[n];return r.a.createElement(se,{id:n,key:n,item:a,index:o},e(a.children))})):null}(w)),a&&r.a.createElement(he,null),r.a.createElement(me,null))})),be=n(290),ye=n.n(be);var ge=Object(b.b)((function(e){return e}),(function(e){return{}}))((function(e){var t=e.selectComponentId,n=e.componentMap[t]||{},o=n.containerProps;return n.componentProps,t&&r.a.createElement("div",{className:ye.a.attributePanel},"x: ",o.style.left,"y: ",o.style.top,"width: ",o.style.width,"height: ",o.style.height)}));var Oe=Object(b.b)((function(e){return{model:e}}),(function(e){return{updateState:function(t){return e(L(t))}}}))((function(e){var t=e.model,n=e.updateState,o=t.previewVisible,a=t.canvasWidth,c=t.canvasHeight,i=t.componentMap;if(!o)return null;var l=X(i),s=function(){return n(Object(d.a)(Object(d.a)({},t),{},{previewVisible:!1}))};return r.a.createElement(E.Dialog,{visible:o,title:"\u9884\u89c8",onClose:s,onCancel:s,onOk:s},r.a.createElement("div",{style:{position:"relative",width:a,height:c}},function e(t){return t?Object.keys(t).map((function(n,o){var a=t[n],c=a.type,i=a.containerProps,l=a.componentProps,s=a.children,u=T(c);return r.a.createElement("div",{key:n,style:Object(d.a)({position:"absolute"},i.style)},c===I?e(s):c!==I?r.a.createElement(u,l):null)})):null}(l)))})),Ee=n(100),je=n.n(Ee),Me=(n(686),function(){return r.a.createElement("div",{className:je.a.container},r.a.createElement(V,null),r.a.createElement("div",{className:je.a.content},r.a.createElement(K,null),r.a.createElement("div",{className:je.a.editor},r.a.createElement(ve,null)),r.a.createElement(ge,null),r.a.createElement(Oe,null)))});c.a.render(r.a.createElement(b.a,{store:v},r.a.createElement(Me,null)),document.getElementById("root"));var Pe=new l.a;Pe.showPanel(0),document.body.appendChild(Pe.dom),requestAnimationFrame((function e(){Pe.begin(),Pe.end(),requestAnimationFrame(e)}))},98:function(e,t,n){e.exports={header:"Header_header__nGceP",numberPicker:"Header_numberPicker__1Eeju"}},99:function(e,t,n){e.exports={componentList:"ComponentPanel_componentList__1-9lm",cell:"ComponentPanel_cell__3jcko",text:"ComponentPanel_text__3d8cg"}}},[[293,1,2]]]);
//# sourceMappingURL=main.960428b4.chunk.js.map